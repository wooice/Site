<ng-include src="'partials/header.html'"></ng-include>

<div class="row">
<div class="col-md-3">
</div>
<div class="col-md-6" style="padding-top: 10px">
<form name="upload_form" style="padding-top: 10px">

<div id="upload_error" class="{{defaultSound.uploadMsgClass}}" style="padding-left: 20px">
    {{ defaultSound.uploadMsg}}
</div>

<div style="padding-top: 20px">
    <div id="uploadpart" class="upload_container">
        <div class="upload_div">
            <div style="padding-bottom: 10px">
                <h2>分享声音，从这里开始</h2>
            </div>
            <h4> 您可以点击
        <span href="#" class="button button button-rounded button-flat-primary action-button fileinput-button">
                <i class="icon-plus icon-white"></i>
                <span>上传声音</span>
                <input id="sound_upload" type="file" name="file" class="upload_button">
        </span> 或将音频文件拖放到此页面 </h4>
            <h5 ng-show="shouldCheckCapacity()" style="color: #999;padding-top: 10px">除去已完成的上传，您还可以上传时长<span
                    style="color: rgb(51, 51, 51)">{{defaultSound.minutesToUpload}}分钟</span><span
                    style="color: rgb(51, 51, 51)" ng-show="defaultSound.secondsToUpload > 0">{{defaultSound.secondsToUpload}}秒</span>的音频文件
            </h5>
        </div>
    </div>
</div>
<div style="width: 80%">
<div id="progresspart" class="row" style="display:none;padding-left: 15px">

    <div id="progress" class="progress {{defaultSound.uploadStatus}}">
        <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>
    </div>

    <div class=" pull-right">
          <span ng-show="!defaultSound.isSoundUploading" href="#"
                class="button button-small button-rounded button-flat-highlight action-button fileinput-button">
                <i class="icon-plus icon-white"></i>
                <span>更换音频</span>
                <input id="sound_change_upload" type="file" name="file" class="upload_button">
         </span>
        <button ng-show="defaultSound.isSoundUploading" ng-click="cancelUpload()"
           class="button button-small button-rounded button-flat-highlight">
            <i class="icon-ban-circle icon-white"></i>
            <span>取消上传</span>
        </button>
    </div>
</div>
<br>

<div id="sound_info" class="row" style="display:none;padding-left:20px">
    <div style="padding-bottom: 10px" class="alert alert-info">
        <button type="button" class="close" data-dismiss="alert">×</button>
            <span style="color: gray;font-size: 10px;">上传时请注意：WOWOICE接受您上传的原创及翻唱（演奏等）作品，上传时请确保音频信息中作者名与您填写的ID或姓名相同，否则无法完成上传。<a
                    href="copyright" target="_blank">了解更多版权信息。</a></span>
    </div>
    <div>
        <div class="row">
            <div class="col-md-5" style="padding-left: 20px">
                <div class="{{defaultSound.imgUploadMsgClass}}">
                    <i ng-show="defaultSound.uplodingPoster"
                       class="icon-spinner icon-spin icon-large"></i>{{defaultSound.imgUploadMsg}}
                </div>
                <img ng-src="{{defaultSound.posterUrl}}" id="poster_img" class="img-responsive">
                  <span style="margin-top: -60px;margin-left: 85px" ng-show="!defaultSound.uplodingPoster"
                        class="button button-small button-rounded button-flat action-button fileinput-button">
                    <span tooltip="上传成功后请点击'保存声音信息'按钮确认保存海报">上传海报</span>
                    <input id="poster_upload" type="file" name="file">
                  </span>

                  <span id="cancel_img_upload" style="margin-top: -60px;margin-left: 50px"
                        ng-show="defaultSound.uplodingPoster"
                        class="button button-small button-rounded button-flat action-button fileinput-button">
                      <i class="icon-ban-circle icon-white"></i>
                      <span>取消上传</span>
                  </span>
            </div>
            <div class="col-md-7">
                <div style="padding-left: 30px">
                    <div id="profile_info" class="{{defaultSound.profileMsgClass}}">
                        {{ defaultSound.profileMsg}}
                    </div>
                    <div style="width: 100%;padding: 5px">
                        <label style="color:rgb(51, 51, 51)"><span style="color: red">*</span>声音名称</label>
                        <input type="text" id="name" name="name" placeholder="请输入这段声音的名称..."
                               ng-model="defaultSound.name" required
                               class="form-control">
                    </div>

                    <div style="width: 100%;padding: 5px;padding-bottom: 15px">
                        <label style="color:rgb(51, 51, 51)">声音标签</label>

                        <div>
                                <span id="tags_div" ng-repeat="tag in defaultSound.tags">
                                    <span class="btn-group green" style="padding: 5px;padding-right: 15px;"
                                          id="tag_{{tag}">
                                        <span style="font-size: 10px">
                                            <i ng-show="tag.curated" class='icon-certificate'></i><i
                                                class="icon-tag "> {{tag}}</i> <i class="icon-remove"
                                                                                  ng-click="removeTag(tag)"></i>
                                        </span>
                                    </span>
                                </span>
                        </div>

                        <div>
                            <input type="text" id="tags" name="tags" class="form-control" placeholder="添加一个标签..."
                                   tooltip="丰富的标签会让声音更被更多人发现">
                            <button class="button button-rounded button-flat-primary button-small"
                                    ng-click="addNewTag()">添加
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>

            <div style="width: 100%;padding: 5px">
                <label style="color:rgb(51, 51, 51)">声音描述</label>
                <textarea id="description" name="description" placeholder="请介绍这段声音..."
                          ng-model="defaultSound.description" class="form-control"></textarea>

                <div style="padding-top: 15px">
                    <div class="row">
                        <div class="col-md-3">
                            <label style="color:rgb(51, 51, 51)">隐私</label> <br>

                            <div class="btn-group">
                                <button type="button" class="btn btn-primary" ng-model="defaultSound.status"
                                        btn-radio="'private'">私有
                                </button>
                                <button type="button" class="btn btn-primary active" btn-radio="'public'"
                                        ng-model="defaultSound.status">
                                    公开
                                </button>
                            </div>
                        </div>

                        <div class="col-md-3">
                            <label style="color:rgb(51, 51, 51)">评论模式</label><br>

                            <div class="btn-group" style="padding-top: 8px">
                                <select ng-model="defaultSound.commentMode"
                                        ng-options="cm.name for cm in commentModes" style="width: 120px">
                                </select>
                            </div>
                        </div>

                        <div class="col-md-3" style="padding-left: 20px">
                            <label style="color:rgb(51, 51, 51)">声音类型</label>
                            <br>

                            <div class="btn-group">
                                <button type="button" class="btn btn-primary active" ng-model="defaultSound.recordType"
                                        btn-radio="'resing'">
                                    翻唱
                                </button>
                                <button type="button" class="btn btn-primary" btn-radio="'original'"
                                        ng-model="defaultSound.recordType"
                                        tooltip="上传5首原创音乐即可获得会员资格">原创
                                </button>
                            </div>
                        </div>

                        <div class="col-md-3 btn-group" data-toggle="buttons-radio" style="padding: 15px"
                             ng-show="defaultSound.recordType == 'original'">
                            <label ng-click="showMore=!showMore" style="color: gray;margin-top: 20px"><b>更多选项</b>
                                <i ng-show="!showMore" class="icon-chevron-right"></i>
                                <i ng-show="showMore" class="icon-chevron-down"></i>
                            </label>
                        </div>
                    </div>

                    <div ng-show="defaultSound.recordType && defaultSound.recordType == 'original' && showMore"
                         style="padding-left: 15px">
                        <hr>
                        <div class="row" style="padding-bottom: 10px">
                            <div class="btn-group col-md-6" data-toggle="buttons-radio" style="padding-top: 5px">
                                <label>版权注册编码(ISWC编码)</label>

                                <div class="text-warning"
                                     ng-show="upload_form.rightNumber.$dirty && upload_form.rightNumber.$invalid">
                                    <small class="text-warning"
                                           ng-show="upload_form.rightNumber.$error.pattern">
                                        请输入正确的版权编号
                                    </small>
                                </div>

                                <input type="text" name="rightNumber" class="form-control"
                                       ng-model="defaultSound.soundRight.rightNumber" ng-pattern="/^\d{16}$/"
                                       tooltip="已注册的作品可填写注册编码，该编码将用于版权验证">
                            </div>

                            <div class="col-md-6" style="padding-left:50px;">
                                <label style="color:rgb(51, 51, 51)">允许下载</label>
                                <br>

                                <div class="btn-group">
                                    <button type="button" class="btn btn-primary" btn-radio="true"
                                            ng-model="defaultSound.downloadable">
                                        是
                                    </button>
                                    <button type="button" class="btn btn-primary active" btn-radio="false"
                                            ng-model="defaultSound.downloadable">否
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-info">
                            <button type="button" class="close" data-dismiss="alert">×</button>
                                    <span style="color: gray;font-size: 9px;">
                                            为了更好的保护您和他人的音乐版权，WOWOICE建议（非强制）您提供由中国音乐著作权协会认证的版权信息。
                                                        如果您尚未注册版权，可通过<a
                                            href="http://morp.mcsc.com.cn/www_new/mainPage.php"
                                            target="_blank">音著协版权服务中心</a>注册版权，获得合法的版权保护。
                                                        <a href="copyright" target="_blank">了解更多版权信息。</a>
                                    </span>
                        </div>
                    </div>
                </div>
            </div>


            <div style="padding-top: 15px">
                <span style="color: #808080;font-size: 10px" class="pull-left">注：带有<span style="color: red">*</span>标注为必须填写内容</span>

                <div class="pull-right">
                    <button href="#"
                            ng-disabled="defaultSound.uplodingPoster || defaultSound.isSoundUploading"
                            class="btn btn-default"
                            onclick="return false;" ng-click="discard()">放弃上传
                    </button>

                    <button id="save_button" href="#"
                            ng-disabled="upload_form.$invalid || defaultSound.uplodingPoster"
                            class="btn btn-default"
                            onclick="return false;" ng-click="save()">保存声音信息
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</form>
</div>
<div class="col-md-3">
</div>

</div>

<ng-include src="'partials/footer.html'"></ng-include>